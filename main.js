(()=>{"use strict";var e=function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))},t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Сохранить",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Сохранение...";t.textContent=e?r:n},n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Сохранение...";n.preventDefault();var o=n.submitter,a=o.textContent;t(!0,o,a,r),e().then((function(){n.target.reset()})).catch((function(e){console.error("Ошибка: ".concat(e))})).finally((function(){t(!1,o,a)}))},r={baseUrl:"https://mesto.nomoreparties.co/v1/wff-cohort-2",headers:{authorization:"25acbbe0-12c1-426d-be21-ec07addb3936","Content-Type":"application/json"}},o=function(t,n){return fetch("".concat(r.baseUrl,"/").concat(t),n).then(e)},a=function(e){return o("users/me/avatar",{method:"PATCH",headers:r.headers,body:JSON.stringify({avatar:e})})};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i,u,l=function(e){var t=e.cardData,n=e.userDataId,r=e.сallbackForRemove,o=e.сallbackForLike,a=e.сallbackForShowImage,i=document.querySelector("#card-template").content.cloneNode(!0),u=i.querySelector(".card__image"),l=i.querySelector(".card__like-count"),s=i.querySelector(".card__like-button"),d=i.querySelector(".card__delete-button"),f=i.querySelector(".card__owner");if(i.querySelector(".card__title").textContent=t.name,u.src=t.link,u.alt=t.name,t.likes.length){l.textContent=t.likes.length,l.classList.add("card__like-count_is-active");var m,p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}(t.likes);try{for(p.s();!(m=p.n()).done;)m.value._id===n&&s.classList.add("card__like-button_is-active")}catch(e){p.e(e)}finally{p.f()}}return t.owner._id!==n&&d.classList.add("card__delete-button_hidden"),f.textContent=t.owner.name,u.addEventListener("click",(function(){a(t)})),d.addEventListener("click",(function(e){r(e,t)})),i.querySelector(".card__like-button").addEventListener("click",(function(e){o(e,t)})),i},s=function(e,t){var n,a=e.target,c=e.target.closest(".card__like-block").querySelector(".card__like-count");a.classList.contains("card__like-button_is-active")?function(e){return o("cards/likes/".concat(e),{method:"DELETE",headers:r.headers})}(t._id).then((function(e){a.classList.remove("card__like-button_is-active"),e.likes.length?c.textContent=e.likes.length:c.classList.remove("card__like-count_is-active")})).catch((function(e){console.log(e)})):(n=t._id,o("cards/likes/".concat(n),{method:"PUT",headers:r.headers})).then((function(e){a.classList.add("card__like-button_is-active"),c.classList.add("card__like-count_is-active"),c.textContent=e.likes.length})).catch((function(e){console.log(e)}))},d=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",m)},f=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",m)},m=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");f(t)}},p=function(e,t,n){var r=e.querySelector(".".concat(t.name,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""},v=function(e,t){e.disabled=!0,e.classList.add(t.inactiveButtonClass)},_=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?function(e,t){e.disabled=!1,e.classList.remove(t.inactiveButtonClass)}(t,n):v(t,n)},y=document.querySelector(".places__list"),h=document.querySelector(".profile__title"),b=document.querySelector(".profile__description"),S=document.querySelector(".profile__image"),k=document.querySelectorAll(".popup"),g=document.querySelectorAll(".popup__close"),L=document.querySelector(".popup_type_edit"),E=document.querySelector(".profile__edit-button"),q=document.forms["edit-profile"],C=q.elements.name,w=q.elements.description,A=document.querySelector(".popup_type_change-avatar"),x=document.forms["new-avatar"],I=x.elements.link,D=document.querySelector(".popup_type_new-card"),F=document.querySelector(".profile__add-button"),j=document.forms["new-place"],T=j.elements["place-name"],O=j.elements.link,P=document.querySelector(".popup_type_image"),B=document.querySelector(".popup__image"),M=document.querySelector(".popup__caption"),R=document.querySelector(".popup__avatar"),U=document.querySelector(".popup__owner-name"),N=document.querySelector(".popup_type_delete-card"),H=document.forms["remove-card"],J={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z,G=function(e,t){u=[e.target.closest(".card"),t._id],d(N)},K=function(e){B.src=e.link,B.alt=e.name,M.textContent=e.name,R.src=e.owner.avatar,R.alt=e.owner.name,U.textContent=e.owner.name,d(P)};Promise.all([o("users/me",{headers:r.headers}),o("cards",{headers:r.headers})]).then((function(e){var t=V(e,2),n=t[0],r=t[1];i=n._id,h.textContent=n.name,b.textContent=n.about,S.setAttribute("style","background-image: url(".concat(n.avatar,");")),r.forEach((function(e){var t,n,r;n=(t={cardData:e,userDataId:i,сallbackForRemove:G,сallbackForLike:s,сallbackForShowImage:K}).cardData,r=l({cardData:n,userDataId:t.userDataId,сallbackForRemove:t.сallbackForRemove,сallbackForLike:t.сallbackForLike,сallbackForShowImage:t.сallbackForShowImage}),y.append(r)}))})).catch((function(e){console.log(e)})),g.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".popup");f(t)}))})),k.forEach((function(e){e.addEventListener("mousedown",(function(t){!function(e,t){e.currentTarget===e.target&&f(t)}(t,e)}))})),E.addEventListener("click",(function(){var e,t,n,r;C.value=h.textContent,w.value=b.textContent,e=q,t=J,n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector),_(n,r,t),n.forEach((function(n){p(e,n,t)})),d(L)})),q.addEventListener("submit",(function(e){n((function(){return function(e,t){return o("users/me",{method:"PATCH",headers:r.headers,body:JSON.stringify({name:e,about:t})})}(C.value,w.value).then((function(e){h.textContent=e.name,b.textContent=e.about,f(L)}))}),e)})),F.addEventListener("click",(function(){d(D)})),j.addEventListener("submit",(function(e){n((function(){return(e=T.value,t=O.value,o("cards",{method:"POST",headers:r.headers,body:JSON.stringify({name:e,link:t})})).then((function(e){var t=l({cardData:e,userDataId:i,сallbackForRemove:G,сallbackForLike:s,сallbackForShowImage:K});y.prepend(t),f(D)}));var e,t}),e)})),H.addEventListener("submit",(function(e){var t=V(u,2),a=t[0],c=t[1];n((function(){return function(e){return o("cards/".concat(e),{method:"DELETE",headers:r.headers})}(c).then((function(){f(N),a.remove()}))}),e,"Удаление...")})),S.addEventListener("click",(function(){d(A)})),x.addEventListener("submit",(function(e){n((function(){return Promise.all([(e=I.value,fetch("".concat(e),{method:"HEAD"}).then((function(e){if(!e.ok&&!e.headers.get("Content-Type").includes("image"))return Promise.reject("Ошибка: ".concat(e.status))}))),a(I.value)]).then((function(e){var t=e[1];S.setAttribute("style","background-image: url(".concat(t.avatar,");")),f(A)}));var e}),e)})),z=J,Array.from(document.querySelectorAll(z.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);_(n,r,t),e.addEventListener("reset",(function(){n.length&&v(r,t)})),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?p(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.name,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n,o.classList.add(r.errorClass)}(e,t,t.validationMessage,n)}(e,o,t),_(n,r,t)}))}))}(e,z)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWtGLGtCQUNiakYsRUFLTixDQTRDTWtGLENBQVFwRixFQUFhQyxFQUFjQyxHQUNuQ1EsRUFBa0JDLEVBQVdKLEVBQWVMLEVBQzlDLEdBQ0YsR0FDRixDQVNJbUYsQ0FBa0JyRixFQUFhRSxFQUNqQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL3NjcmlwdHMvYXBpLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvc2NyaXB0cy9jYXJkLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvc2NyaXB0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL3NjcmlwdHMvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9zY3JpcHRzL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY2hlY2tSZXNwb25zZSA9IChyZXMpID0+IHtcclxuICBpZiAocmVzLm9rKSB7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICB9XHJcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlckxvYWRpbmcgPSAoXHJcbiAgaXNMb2FkaW5nLFxyXG4gIGJ1dHRvbixcclxuICBidXR0b25UZXh0ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCcsXHJcbiAgbG9hZGluZ1RleHQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nLFxyXG4pID0+IHtcclxuICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcclxuICB9IGVsc2Uge1xyXG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gYnV0dG9uVGV4dDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlU3VibWl0ID0gKHJlcXVlc3QsIGV2dCwgbG9hZGluZ1RleHQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKSA9PiB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZXZ0LnN1Ym1pdHRlcjtcclxuICBjb25zdCBpbml0aWFsVGV4dCA9IHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuXHJcbiAgcmVuZGVyTG9hZGluZyh0cnVlLCBzdWJtaXRCdXR0b24sIGluaXRpYWxUZXh0LCBsb2FkaW5nVGV4dCk7XHJcbiAgcmVxdWVzdCgpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgc3VibWl0QnV0dG9uLCBpbml0aWFsVGV4dCk7XHJcbiAgICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgY2hlY2tSZXNwb25zZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL3dmZi1jb2hvcnQtMicsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzI1YWNiYmUwLTEyYzEtNDI2ZC1iZTIxLWVjMDdhZGRiMzkzNicsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCByZXF1ZXN0ID0gKGVuZHBvaW50LCBvcHRpb25zKSA9PiB7XHJcbiAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS8ke2VuZHBvaW50fWAsIG9wdGlvbnMpLnRoZW4oY2hlY2tSZXNwb25zZSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VXNlckRhdGEgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoJ3VzZXJzL21lJywge1xyXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2hhbmdlVXNlckRhdGEgPSAodXNlck5hbWUsIHVzZXJEZXNjcmlwdGlvbikgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KCd1c2Vycy9tZScsIHtcclxuICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBuYW1lOiB1c2VyTmFtZSxcclxuICAgICAgYWJvdXQ6IHVzZXJEZXNjcmlwdGlvbixcclxuICAgIH0pLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNoYW5nZVVzZXJBdmF0YXIgPSBsaW5rSW1hZ2UgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KCd1c2Vycy9tZS9hdmF0YXInLCB7XHJcbiAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgYXZhdGFyOiBsaW5rSW1hZ2UsXHJcbiAgICB9KSxcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjaGVja0ltYWdlVXJsID0gbGlua0ltYWdlID0+IHtcclxuICByZXR1cm4gZmV0Y2goYCR7bGlua0ltYWdlfWAsIHtcclxuICAgIG1ldGhvZDogJ0hFQUQnLFxyXG4gIH0pLnRoZW4ocmVzID0+IHtcclxuICAgIGlmICghcmVzLm9rICYmICFyZXMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpLmluY2x1ZGVzKCdpbWFnZScpKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0SW5pdGlhbENhcmRzID0gKCkgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KCdjYXJkcycsIHtcclxuICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlbmROZXdDYXJkID0gKGNhcmROYW1lLCBjYXJkTGluaykgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KCdjYXJkcycsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIG5hbWU6IGNhcmROYW1lLFxyXG4gICAgICBsaW5rOiBjYXJkTGluayxcclxuICAgIH0pLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZUN1cnJlbnRDYXJkID0gY2FyZElkID0+IHtcclxuICByZXR1cm4gcmVxdWVzdChgY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHB1dExpa2UgPSBjYXJkSWQgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KGBjYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlTGlrZSA9IGNhcmRJZCA9PiB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoYGNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgcHV0TGlrZSwgZGVsZXRlTGlrZSB9IGZyb20gJy4vYXBpJztcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDYXJkID0gKHtcclxuICBjYXJkRGF0YSxcclxuICB1c2VyRGF0YUlkLFxyXG4gINGBYWxsYmFja0ZvclJlbW92ZSxcclxuICDRgWFsbGJhY2tGb3JMaWtlLFxyXG4gINGBYWxsYmFja0ZvclNob3dJbWFnZSxcclxufSkgPT4ge1xyXG4gIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLXRlbXBsYXRlJykuY29udGVudDtcclxuICBjb25zdCBuZXdDYXJkID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBuZXdDYXJkSW1hZ2UgPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xyXG4gIGNvbnN0IG5ld0NhcmRMaWtlQ291bnQgPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50Jyk7XHJcbiAgY29uc3QgbmV3Q2FyZExpa2VCdXR0b24gPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWJ1dHRvbicpO1xyXG4gIGNvbnN0IG5ld0NhcmREZWxldGVCdXR0b24gPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJyk7XHJcbiAgY29uc3QgbmV3Q2FyZE93bmVyTmFtZSA9IG5ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX293bmVyJyk7XHJcblxyXG4gIG5ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJykudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xyXG4gIG5ld0NhcmRJbWFnZS5zcmMgPSBjYXJkRGF0YS5saW5rO1xyXG4gIG5ld0NhcmRJbWFnZS5hbHQgPSBjYXJkRGF0YS5uYW1lO1xyXG5cclxuICBpZiAoY2FyZERhdGEubGlrZXMubGVuZ3RoKSB7XHJcbiAgICBuZXdDYXJkTGlrZUNvdW50LnRleHRDb250ZW50ID0gY2FyZERhdGEubGlrZXMubGVuZ3RoO1xyXG4gICAgbmV3Q2FyZExpa2VDb3VudC5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlLWNvdW50X2lzLWFjdGl2ZScpO1xyXG5cclxuICAgIGZvciAoY29uc3Qgb3duZXJMaWtlIG9mIGNhcmREYXRhLmxpa2VzKSB7XHJcbiAgICAgIGlmIChvd25lckxpa2VbJ19pZCddID09PSB1c2VyRGF0YUlkKSB7XHJcbiAgICAgICAgbmV3Q2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChjYXJkRGF0YS5vd25lclsnX2lkJ10gIT09IHVzZXJEYXRhSWQpIHtcclxuICAgIG5ld0NhcmREZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fZGVsZXRlLWJ1dHRvbl9oaWRkZW4nKTtcclxuICB9XHJcblxyXG4gIG5ld0NhcmRPd25lck5hbWUudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5vd25lci5uYW1lO1xyXG5cclxuICBuZXdDYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICDRgWFsbGJhY2tGb3JTaG93SW1hZ2UoY2FyZERhdGEpO1xyXG4gIH0pO1xyXG4gIG5ld0NhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldnQgPT4ge1xyXG4gICAg0YFhbGxiYWNrRm9yUmVtb3ZlKGV2dCwgY2FyZERhdGEpO1xyXG4gIH0pO1xyXG4gIG5ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldnQgPT4ge1xyXG4gICAg0YFhbGxiYWNrRm9yTGlrZShldnQsIGNhcmREYXRhKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG5ld0NhcmQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbGlrZUNhcmQgPSAoZXZ0LCBjYXJkRGF0YSkgPT4ge1xyXG4gIGNvbnN0IGxpa2VCdXR0b24gPSBldnQudGFyZ2V0O1xyXG4gIGNvbnN0IGxpa2VDb3VudCA9IGV2dC50YXJnZXRcclxuICAgIC5jbG9zZXN0KCcuY2FyZF9fbGlrZS1ibG9jaycpXHJcbiAgICAucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtY291bnQnKTtcclxuXHJcbiAgaWYgKCFsaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlJykpIHtcclxuICAgIHB1dExpa2UoY2FyZERhdGFbJ19pZCddKVxyXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlJyk7XHJcbiAgICAgICAgbGlrZUNvdW50LmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2UtY291bnRfaXMtYWN0aXZlJyk7XHJcbiAgICAgICAgbGlrZUNvdW50LnRleHRDb250ZW50ID0gcmVzdWx0Lmxpa2VzLmxlbmd0aDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRlbGV0ZUxpa2UoY2FyZERhdGFbJ19pZCddKVxyXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlJyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5saWtlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGxpa2VDb3VudC50ZXh0Q29udGVudCA9IHJlc3VsdC5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxpa2VDb3VudC5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkX19saWtlLWNvdW50X2lzLWFjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iLCJpbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XHJcblxyXG5pbXBvcnQgeyBjcmVhdGVDYXJkLCBsaWtlQ2FyZCB9IGZyb20gJy4vY2FyZC5qcyc7XHJcbmltcG9ydCB7IG9wZW5Nb2RhbCwgY2xvc2VNb2RhbCwgY2xvc2VNb2RhbE9uQmFja2Ryb3BDbGljayB9IGZyb20gJy4vbW9kYWwuanMnO1xyXG5pbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCBjbGVhclZhbGlkYXRpb24gfSBmcm9tICcuL3ZhbGlkYXRpb24uanMnO1xyXG5pbXBvcnQge1xyXG4gIGdldFVzZXJEYXRhLFxyXG4gIGNoYW5nZVVzZXJEYXRhLFxyXG4gIGdldEluaXRpYWxDYXJkcyxcclxuICBzZW5kTmV3Q2FyZCxcclxuICByZW1vdmVDdXJyZW50Q2FyZCxcclxuICBjaGFuZ2VVc2VyQXZhdGFyLFxyXG4gIGNoZWNrSW1hZ2VVcmwsXHJcbn0gZnJvbSAnLi9hcGkuanMnO1xyXG5pbXBvcnQgeyBoYW5kbGVTdWJtaXQgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XHJcbmltcG9ydCB7XHJcbiAgY2FyZENvbnRhaW5lcixcclxuICB1c2VyTmFtZSxcclxuICB1c2VyRGVzY3JpcHRpb24sXHJcbiAgdXNlckF2YXRhcixcclxuICBwb3B1cHMsXHJcbiAgYnV0dG9uc0Nsb3NlUG9wdXBzLFxyXG4gIHByb2ZpbGVFZGl0UG9wdXAsXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIG5hbWVJbnB1dCxcclxuICBkZXNjcmlwdGlvbklucHV0LFxyXG4gIGNoYW5nZUF2YXRhclBvcHVwLFxyXG4gIGNoYW5nZUF2YXRhckZvcm0sXHJcbiAgY2hhbmdlQXZhdGFySW5wdXQsXHJcbiAgYWRkTmV3Q2FyZFBvcHVwLFxyXG4gIGFkZE5ld0NhcmRCdXR0b24sXHJcbiAgYWRkTmV3Q2FyZEZvcm0sXHJcbiAgY2FyZE5hbWVJbnB1dCxcclxuICBjYXJkbGlua0lucHV0LFxyXG4gIHNob3dJbWFnZVBvcHVwLFxyXG4gIHBvcHVwSW1hZ2UsXHJcbiAgcG9wdXBJbWFnZUNhcHRpb24sXHJcbiAgcG9wdXBBdmF0YXIsXHJcbiAgcG9wdXBPd25lck5hbWUsXHJcbiAgcmVtb3ZlQ2FyZFBvcHVwLFxyXG4gIHJlbW92ZUNhcmRGb3JtLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xyXG5cclxubGV0IHVzZXJJZDtcclxubGV0IGNhcmREYXRhRm9yUmVtb3ZlO1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9ICh7XHJcbiAgY2FyZERhdGEsXHJcbiAgdXNlckRhdGFJZCxcclxuICDRgWFsbGJhY2tGb3JSZW1vdmUsXHJcbiAg0YFhbGxiYWNrRm9yTGlrZSxcclxuICDRgWFsbGJhY2tGb3JTaG93SW1hZ2UsXHJcbn0pID0+IHtcclxuICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZCh7XHJcbiAgICBjYXJkRGF0YSxcclxuICAgIHVzZXJEYXRhSWQsXHJcbiAgICDRgWFsbGJhY2tGb3JSZW1vdmUsXHJcbiAgICDRgWFsbGJhY2tGb3JMaWtlLFxyXG4gICAg0YFhbGxiYWNrRm9yU2hvd0ltYWdlLFxyXG4gIH0pO1xyXG4gIGNhcmRDb250YWluZXIuYXBwZW5kKG5ld0NhcmQpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoZXZ0KSA9PiB7XHJcbiAgY29uc3QgbWFrZVJlcXVlc3QgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gY2hhbmdlVXNlckRhdGEobmFtZUlucHV0LnZhbHVlLCBkZXNjcmlwdGlvbklucHV0LnZhbHVlKS50aGVuKFxyXG4gICAgICAodXNlckRhdGEpID0+IHtcclxuICAgICAgICB1c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgICAgICAgdXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XHJcbiAgICAgICAgY2xvc2VNb2RhbChwcm9maWxlRWRpdFBvcHVwKTtcclxuICAgICAgfSxcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ2hhbmdlQXZhdGFyRm9ybVN1Ym1pdCA9IChldnQpID0+IHtcclxuICBjb25zdCBtYWtlUmVxdWVzdCA9ICgpID0+IHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXHJcbiAgICAgIGNoZWNrSW1hZ2VVcmwoY2hhbmdlQXZhdGFySW5wdXQudmFsdWUpLFxyXG4gICAgICBjaGFuZ2VVc2VyQXZhdGFyKGNoYW5nZUF2YXRhcklucHV0LnZhbHVlKSxcclxuICAgIF0pLnRoZW4oKHJlc3VsdHMpID0+IHtcclxuICAgICAgY29uc3QgdXNlckRhdGEgPSByZXN1bHRzWzFdO1xyXG4gICAgICB1c2VyQXZhdGFyLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAnc3R5bGUnLFxyXG4gICAgICAgIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHt1c2VyRGF0YS5hdmF0YXJ9KTtgLFxyXG4gICAgICApO1xyXG4gICAgICBjbG9zZU1vZGFsKGNoYW5nZUF2YXRhclBvcHVwKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgZXZ0KTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUFkZE5ld0NhcmRGb3JtU3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gIGNvbnN0IG1ha2VSZXF1ZXN0ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHNlbmROZXdDYXJkKGNhcmROYW1lSW5wdXQudmFsdWUsIGNhcmRsaW5rSW5wdXQudmFsdWUpLnRoZW4oXHJcbiAgICAgIChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKHtcclxuICAgICAgICAgIGNhcmREYXRhOiBjYXJkRGF0YSxcclxuICAgICAgICAgIHVzZXJEYXRhSWQ6IHVzZXJJZCxcclxuICAgICAgICAgINGBYWxsYmFja0ZvclJlbW92ZTogcmVtb3ZlQ2FyZCxcclxuICAgICAgICAgINGBYWxsYmFja0Zvckxpa2U6IGxpa2VDYXJkLFxyXG4gICAgICAgICAg0YFhbGxiYWNrRm9yU2hvd0ltYWdlOiBzaG93SW1hZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2FyZENvbnRhaW5lci5wcmVwZW5kKG5ld0NhcmQpO1xyXG4gICAgICAgIGNsb3NlTW9kYWwoYWRkTmV3Q2FyZFBvcHVwKTtcclxuICAgICAgfSxcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQ2FyZCA9IChldnQsIGNhcmREYXRhKSA9PiB7XHJcbiAgY2FyZERhdGFGb3JSZW1vdmUgPSBbZXZ0LnRhcmdldC5jbG9zZXN0KCcuY2FyZCcpLCBjYXJkRGF0YVsnX2lkJ11dO1xyXG4gIG9wZW5Nb2RhbChyZW1vdmVDYXJkUG9wdXApO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlUmVtb3ZlQ2FyZEZvcm1TdWJtaXQgPSAoZXZ0KSA9PiB7XHJcbiAgY29uc3QgW2N1cnJlbnRDYXJkLCBjYXJkSWRdID0gY2FyZERhdGFGb3JSZW1vdmU7XHJcbiAgY29uc3QgbWFrZVJlcXVlc3QgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gcmVtb3ZlQ3VycmVudENhcmQoY2FyZElkKS50aGVuKCgpID0+IHtcclxuICAgICAgY2xvc2VNb2RhbChyZW1vdmVDYXJkUG9wdXApO1xyXG4gICAgICBjdXJyZW50Q2FyZC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgZXZ0LCAn0KPQtNCw0LvQtdC90LjQtS4uLicpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd0ltYWdlID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgcG9wdXBJbWFnZS5zcmMgPSBjYXJkRGF0YS5saW5rO1xyXG4gIHBvcHVwSW1hZ2UuYWx0ID0gY2FyZERhdGEubmFtZTtcclxuICBwb3B1cEltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IGNhcmREYXRhLm5hbWU7XHJcbiAgcG9wdXBBdmF0YXIuc3JjID0gY2FyZERhdGEub3duZXIuYXZhdGFyO1xyXG4gIHBvcHVwQXZhdGFyLmFsdCA9IGNhcmREYXRhLm93bmVyLm5hbWU7XHJcbiAgcG9wdXBPd25lck5hbWUudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5vd25lci5uYW1lO1xyXG4gIG9wZW5Nb2RhbChzaG93SW1hZ2VQb3B1cCk7XHJcbn07XHJcblxyXG5Qcm9taXNlLmFsbChbZ2V0VXNlckRhdGEoKSwgZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChyZXN1bHRzKSA9PiB7XHJcbiAgICBjb25zdCBbdXNlckRhdGEsIGluaXRpYWxDYXJkc10gPSByZXN1bHRzO1xyXG4gICAgdXNlcklkID0gdXNlckRhdGFbJ19pZCddO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xyXG4gICAgdXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XHJcbiAgICB1c2VyQXZhdGFyLnNldEF0dHJpYnV0ZShcclxuICAgICAgJ3N0eWxlJyxcclxuICAgICAgYGJhY2tncm91bmQtaW1hZ2U6IHVybCgke3VzZXJEYXRhLmF2YXRhcn0pO2AsXHJcbiAgICApO1xyXG5cclxuICAgIGluaXRpYWxDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIHJlbmRlckNhcmQoe1xyXG4gICAgICAgIGNhcmREYXRhOiBjYXJkLFxyXG4gICAgICAgIHVzZXJEYXRhSWQ6IHVzZXJJZCxcclxuICAgICAgICDRgWFsbGJhY2tGb3JSZW1vdmU6IHJlbW92ZUNhcmQsXHJcbiAgICAgICAg0YFhbGxiYWNrRm9yTGlrZTogbGlrZUNhcmQsXHJcbiAgICAgICAg0YFhbGxiYWNrRm9yU2hvd0ltYWdlOiBzaG93SW1hZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmJ1dHRvbnNDbG9zZVBvcHVwcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZXZ0LnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcclxuICAgIGNsb3NlTW9kYWwob3BlbmVkUG9wdXApO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbnBvcHVwcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICBjbG9zZU1vZGFsT25CYWNrZHJvcENsaWNrKGV2dCwgaXRlbSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlck5hbWUudGV4dENvbnRlbnQ7XHJcbiAgZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcclxuICBjbGVhclZhbGlkYXRpb24ocHJvZmlsZUVkaXRGb3JtLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICBvcGVuTW9kYWwocHJvZmlsZUVkaXRQb3B1cCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUVkaXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcclxuXHJcbmFkZE5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGFkZE5ld0NhcmRQb3B1cCk7XHJcbn0pO1xyXG5cclxuYWRkTmV3Q2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQWRkTmV3Q2FyZEZvcm1TdWJtaXQpO1xyXG5cclxucmVtb3ZlQ2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlUmVtb3ZlQ2FyZEZvcm1TdWJtaXQpO1xyXG5cclxudXNlckF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBvcGVuTW9kYWwoY2hhbmdlQXZhdGFyUG9wdXApO1xyXG59KTtcclxuXHJcbmNoYW5nZUF2YXRhckZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQ2hhbmdlQXZhdGFyRm9ybVN1Ym1pdCk7XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xyXG4iLCJleHBvcnQgY29uc3Qgb3Blbk1vZGFsID0gcG9wdXAgPT4ge1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2lzLW9wZW5lZCcpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjbG9zZU1vZGFsT25Fc2NQcmVzcyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xvc2VNb2RhbCA9IHBvcHVwID0+IHtcclxuICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9pcy1vcGVuZWQnKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VNb2RhbE9uRXNjUHJlc3MpO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNb2RhbE9uRXNjUHJlc3MgPSBldnQgPT4ge1xyXG4gIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgY29uc3Qgb3BlbmVkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfaXMtb3BlbmVkJyk7XHJcbiAgICBjbG9zZU1vZGFsKG9wZW5lZFBvcHVwKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xvc2VNb2RhbE9uQmFja2Ryb3BDbGljayA9IChldnQsIHBvcHVwKSA9PiB7XHJcbiAgaWYgKGV2dC5jdXJyZW50VGFyZ2V0ID09PSBldnQudGFyZ2V0KSBjbG9zZU1vZGFsKHBvcHVwKTtcclxufTtcclxuIiwiY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlLCBmb3JtRGF0YSkgPT4ge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5uYW1lfS1lcnJvcmApO1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGZvcm1EYXRhLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGZvcm1EYXRhLmVycm9yQ2xhc3MpO1xyXG59O1xyXG5cclxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZm9ybURhdGEpID0+IHtcclxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQubmFtZX0tZXJyb3JgKTtcclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShmb3JtRGF0YS5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1EYXRhLmVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG59O1xyXG5cclxuY29uc3QgaXNWYWxpZCA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBmb3JtRGF0YSkgPT4ge1xyXG4gIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoaW5wdXRFbGVtZW50LmRhdGFzZXQuZXJyb3JNZXNzYWdlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcclxuICB9XHJcblxyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihcclxuICAgICAgZm9ybUVsZW1lbnQsXHJcbiAgICAgIGlucHV0RWxlbWVudCxcclxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxyXG4gICAgICBmb3JtRGF0YSxcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGZvcm1EYXRhKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBmb3JtRGF0YSkgPT4ge1xyXG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChmb3JtRGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxufTtcclxuXHJcbmNvbnN0IGVuYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBmb3JtRGF0YSkgPT4ge1xyXG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybURhdGEuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGZvcm1EYXRhKSA9PiB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGZvcm1EYXRhKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZW5hYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGZvcm1EYXRhKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCwgZm9ybURhdGEpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChmb3JtRGF0YS5pbnB1dFNlbGVjdG9yKSxcclxuICApO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgZm9ybURhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3IsXHJcbiAgKTtcclxuXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBmb3JtRGF0YSk7XHJcblxyXG4gIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgKCkgPT4ge1xyXG4gICAgaWYgKGlucHV0TGlzdC5sZW5ndGgpIHtcclxuICAgICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBmb3JtRGF0YSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgaXNWYWxpZChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBmb3JtRGF0YSk7XHJcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgZm9ybURhdGEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGZvcm1EYXRhKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZm9ybURhdGEuZm9ybVNlbGVjdG9yKSk7XHJcblxyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgZm9ybURhdGEpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJWYWxpZGF0aW9uID0gKGZvcm1FbGVtZW50LCBmb3JtRGF0YSkgPT4ge1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGZvcm1EYXRhLmlucHV0U2VsZWN0b3IpLFxyXG4gICk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBmb3JtRGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcixcclxuICApO1xyXG5cclxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGZvcm1EYXRhKTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZm9ybURhdGEpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgZW5hYmxlVmFsaWRhdGlvbiwgY2xlYXJWYWxpZGF0aW9uIH07XHJcbiIsImV4cG9ydCBjb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlc19fbGlzdCcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCB1c2VyRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbnNDbG9zZVBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fY2xvc2UnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICcucHJvZmlsZV9fZWRpdC1idXR0b24nXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1snZWRpdC1wcm9maWxlJ107XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwcm9maWxlRWRpdEZvcm0uZWxlbWVudHMubmFtZTtcclxuZXhwb3J0IGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBwcm9maWxlRWRpdEZvcm0uZWxlbWVudHMuZGVzY3JpcHRpb247XHJcblxyXG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICcucG9wdXBfdHlwZV9jaGFuZ2UtYXZhdGFyJ1xyXG4pO1xyXG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zWyduZXctYXZhdGFyJ107XHJcbmV4cG9ydCBjb25zdCBjaGFuZ2VBdmF0YXJJbnB1dCA9IGNoYW5nZUF2YXRhckZvcm0uZWxlbWVudHMubGluaztcclxuXHJcbmV4cG9ydCBjb25zdCBhZGROZXdDYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9uZXctY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBhZGROZXdDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zWyduZXctcGxhY2UnXTtcclxuZXhwb3J0IGNvbnN0IGNhcmROYW1lSW5wdXQgPSBhZGROZXdDYXJkRm9ybS5lbGVtZW50c1sncGxhY2UtbmFtZSddO1xyXG5leHBvcnQgY29uc3QgY2FyZGxpbmtJbnB1dCA9IGFkZE5ld0NhcmRGb3JtLmVsZW1lbnRzLmxpbms7XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd0ltYWdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cE93bmVyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fb3duZXItbmFtZScpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZUNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgJy5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkJ1xyXG4pO1xyXG5leHBvcnQgY29uc3QgcmVtb3ZlQ2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1sncmVtb3ZlLWNhcmQnXTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2Rpc2FibGVkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJyxcclxufTtcclxuIl0sIm5hbWVzIjpbImNoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiY29uY2F0Iiwic3RhdHVzIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImJ1dHRvbiIsImJ1dHRvblRleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJsb2FkaW5nVGV4dCIsInRleHRDb250ZW50IiwiaGFuZGxlU3VibWl0IiwicmVxdWVzdCIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0QnV0dG9uIiwic3VibWl0dGVyIiwiaW5pdGlhbFRleHQiLCJ0aGVuIiwidGFyZ2V0IiwicmVzZXQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJjb25maWciLCJiYXNlVXJsIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJmZXRjaCIsImNoYW5nZVVzZXJBdmF0YXIiLCJsaW5rSW1hZ2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsInVzZXJJZCIsImNhcmREYXRhRm9yUmVtb3ZlIiwiY3JlYXRlQ2FyZCIsIl9yZWYiLCJjYXJkRGF0YSIsInVzZXJEYXRhSWQiLCLRgWFsbGJhY2tGb3JSZW1vdmUiLCLRgWFsbGJhY2tGb3JMaWtlIiwi0YFhbGxiYWNrRm9yU2hvd0ltYWdlIiwibmV3Q2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJuZXdDYXJkSW1hZ2UiLCJuZXdDYXJkTGlrZUNvdW50IiwibmV3Q2FyZExpa2VCdXR0b24iLCJuZXdDYXJkRGVsZXRlQnV0dG9uIiwibmV3Q2FyZE93bmVyTmFtZSIsIm5hbWUiLCJzcmMiLCJsaW5rIiwiYWx0IiwibGlrZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsIm4iLCJkb25lIiwidmFsdWUiLCJlIiwiZiIsIm93bmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxpa2VDYXJkIiwiY2FyZElkIiwibGlrZUJ1dHRvbiIsImxpa2VDb3VudCIsImNsb3Nlc3QiLCJjb250YWlucyIsImRlbGV0ZUxpa2UiLCJyZXN1bHQiLCJyZW1vdmUiLCJsb2ciLCJvcGVuTW9kYWwiLCJwb3B1cCIsImNsb3NlTW9kYWxPbkVzY1ByZXNzIiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJvcGVuZWRQb3B1cCIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJmb3JtRGF0YSIsImVycm9yRWxlbWVudCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJkaXNhYmxlQnV0dG9uIiwiYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJlbmFibGVCdXR0b24iLCJjYXJkQ29udGFpbmVyIiwidXNlck5hbWUiLCJ1c2VyRGVzY3JpcHRpb24iLCJ1c2VyQXZhdGFyIiwicG9wdXBzIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbnNDbG9zZVBvcHVwcyIsInByb2ZpbGVFZGl0UG9wdXAiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0Rm9ybSIsImZvcm1zIiwibmFtZUlucHV0IiwiZWxlbWVudHMiLCJkZXNjcmlwdGlvbklucHV0IiwiZGVzY3JpcHRpb24iLCJjaGFuZ2VBdmF0YXJQb3B1cCIsImNoYW5nZUF2YXRhckZvcm0iLCJjaGFuZ2VBdmF0YXJJbnB1dCIsImFkZE5ld0NhcmRQb3B1cCIsImFkZE5ld0NhcmRCdXR0b24iLCJhZGROZXdDYXJkRm9ybSIsImNhcmROYW1lSW5wdXQiLCJjYXJkbGlua0lucHV0Iiwic2hvd0ltYWdlUG9wdXAiLCJwb3B1cEltYWdlIiwicG9wdXBJbWFnZUNhcHRpb24iLCJwb3B1cEF2YXRhciIsInBvcHVwT3duZXJOYW1lIiwicmVtb3ZlQ2FyZFBvcHVwIiwicmVtb3ZlQ2FyZEZvcm0iLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwicmVtb3ZlQ2FyZCIsInNob3dJbWFnZSIsImFsbCIsInJlc3VsdHMiLCJfcmVzdWx0cyIsIl9zbGljZWRUb0FycmF5IiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJhYm91dCIsInNldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjYXJkIiwiYXBwZW5kIiwiaXRlbSIsImN1cnJlbnRUYXJnZXQiLCJjbG9zZU1vZGFsT25CYWNrZHJvcENsaWNrIiwiQXJyYXkiLCJmcm9tIiwiY2hhbmdlVXNlckRhdGEiLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwicHJlcGVuZCIsIl9jYXJkRGF0YUZvclJlbW92ZTIiLCJjdXJyZW50Q2FyZCIsInJlbW92ZUN1cnJlbnRDYXJkIiwiZ2V0IiwiaW5jbHVkZXMiLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXRDdXN0b21WYWxpZGl0eSIsImRhdGFzZXQiLCJlcnJvck1lc3NhZ2UiLCJzaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaXNWYWxpZCIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==